/* ==========================================================================
   LOUISVILLE VOTER EDUCATION GLOSSARY - INLINE TERM STYLING
   For use with Campaign One-Pager and other policy documents
   Version 2.1.0 | October 29, 2025
   ========================================================================== */

/* ---------------------------------------------
   GLOSSARY TERM BASE STYLING
   --------------------------------------------- */

.glossary-term {
    /* Visual indicator that term is defined */
    border-bottom: 1px dotted #0066cc;
    color: #0066cc;
    cursor: help;
    position: relative;
    text-decoration: none;
    font-weight: 500;
    
    /* Smooth transitions */
    transition: all 0.2s ease-in-out;
}

.glossary-term:hover {
    /* Slightly darker on hover */
    color: #004499;
    border-bottom-color: #004499;
}

/* ---------------------------------------------
   TOOLTIP / DEFINITION POPUP
   --------------------------------------------- */

.glossary-term::after {
    /* Create the tooltip */
    content: attr(title);
    
    /* Positioning */
    position: absolute;
    left: 50%;
    bottom: 125%;
    transform: translateX(-50%);
    
    /* Size and spacing */
    width: 300px;
    max-width: 90vw;
    padding: 12px 16px;
    margin-bottom: 8px;
    
    /* Styling */
    background-color: #2c3e50;
    color: #ffffff;
    font-size: 14px;
    font-weight: 400;
    line-height: 1.5;
    text-align: left;
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    
    /* Hide by default */
    opacity: 0;
    visibility: hidden;
    
    /* Smooth transition */
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    
    /* Ensure readable text */
    word-wrap: break-word;
    hyphens: auto;
    
    /* Layer above other content */
    z-index: 1000;
    
    /* Pointer events */
    pointer-events: none;
}

/* Tooltip arrow */
.glossary-term::before {
    content: "";
    position: absolute;
    left: 50%;
    bottom: 125%;
    transform: translateX(-50%);
    margin-bottom: -4px;
    
    /* Arrow shape */
    border: 8px solid transparent;
    border-top-color: #2c3e50;
    
    /* Hide by default */
    opacity: 0;
    visibility: hidden;
    
    /* Smooth transition */
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    
    /* Layer */
    z-index: 1001;
}

/* Show tooltip on hover */
.glossary-term:hover::after,
.glossary-term:hover::before {
    opacity: 1;
    visibility: visible;
}

/* Focus state for keyboard navigation (accessibility) */
.glossary-term:focus {
    outline: 2px solid #0066cc;
    outline-offset: 2px;
}

.glossary-term:focus::after,
.glossary-term:focus::before {
    opacity: 1;
    visibility: visible;
}

/* ---------------------------------------------
   RESPONSIVE ADJUSTMENTS
   --------------------------------------------- */

/* Mobile devices */
@media (max-width: 768px) {
    .glossary-term::after {
        /* Smaller tooltip on mobile */
        width: 280px;
        font-size: 13px;
        padding: 10px 14px;
    }
    
    /* Position above on mobile to avoid off-screen */
    .glossary-term::after {
        bottom: auto;
        top: 125%;
        margin-top: 8px;
        margin-bottom: 0;
    }
    
    .glossary-term::before {
        bottom: auto;
        top: 125%;
        margin-top: -4px;
        border-top-color: transparent;
        border-bottom-color: #2c3e50;
        transform: translateX(-50%) rotate(180deg);
    }
}

/* Very small screens */
@media (max-width: 480px) {
    .glossary-term::after {
        width: 260px;
        font-size: 12px;
        padding: 8px 12px;
    }
}

/* ---------------------------------------------
   PRINT STYLES
   --------------------------------------------- */

@media print {
    /* Remove dotted underline in print */
    .glossary-term {
        border-bottom: none;
        color: inherit;
        font-weight: inherit;
    }
    
    /* Hide tooltips in print */
    .glossary-term::after,
    .glossary-term::before {
        display: none;
    }
    
    /* Optionally show term definitions inline for print */
    .glossary-term[title]::after {
        content: " [" attr(title) "]";
        display: inline;
        font-size: 0.85em;
        font-style: italic;
        color: #666;
        opacity: 1;
        visibility: visible;
        position: static;
        transform: none;
        background: none;
        box-shadow: none;
        padding: 0;
        margin: 0;
        width: auto;
        max-width: none;
    }
}

/* ---------------------------------------------
   ACCESSIBILITY ENHANCEMENTS
   --------------------------------------------- */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    .glossary-term,
    .glossary-term::after,
    .glossary-term::before {
        transition: none;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .glossary-term {
        border-bottom-width: 2px;
        border-bottom-style: solid;
    }
    
    .glossary-term::after {
        border: 2px solid #ffffff;
    }
}

/* ---------------------------------------------
   ALTERNATIVE: CLICK-TO-SHOW VERSION
   For mobile-friendly alternative
   --------------------------------------------- */

/* Add this class to body to enable click behavior instead of hover */
.glossary-click-mode .glossary-term::after,
.glossary-click-mode .glossary-term::before {
    /* Hide tooltips by default */
    opacity: 0;
    visibility: hidden;
}

/* Only show on click/tap (requires JavaScript) */
.glossary-click-mode .glossary-term.active::after,
.glossary-click-mode .glossary-term.active::before {
    opacity: 1;
    visibility: visible;
}

/* ---------------------------------------------
   WORDPRESS INTEGRATION NOTES
   --------------------------------------------- */

/*
 * To integrate with WordPress:
 * 
 * 1. Add this CSS to your theme's stylesheet or custom CSS
 * 2. Use the glossary-term class on spans with title attributes
 * 3. For automated linking, use a glossary plugin like:
 *    - Glossary by Codeat (recommended)
 *    - CM Tooltip Glossary
 *    
 * Example HTML:
 * <span class="glossary-term" 
 *       data-term="participatory-budgeting" 
 *       title="Democratic process where community members directly decide...">
 *   participatory budgeting
 * </span>
 */

/* ---------------------------------------------
   LOUISVILLE BRANDING (Optional)
   --------------------------------------------- */

/* Adjust colors to match rundaverun.org branding */
.glossary-term {
    /* Use your campaign's primary color */
    color: #0066cc; /* Replace with your brand color */
    border-bottom-color: #0066cc;
}

.glossary-term:hover {
    color: #004499; /* Slightly darker shade */
    border-bottom-color: #004499;
}

.glossary-term::after {
    /* Tooltip background - use campaign colors */
    background-color: #2c3e50; /* Dark professional color */
}

.glossary-term::before {
    border-top-color: #2c3e50; /* Match tooltip background */
}
